<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>KG^DIMSY — Official Store</title>
<meta name="description" content="KG^DIMSY — Premium gaming accounts and services. Choose a product, select Palmpay, then confirm payment on WhatsApp." />
<style>
  :root{
    --bg:#08080a; --card:#0f1012; --muted:#bfc5cc; --accent1:#00e5ff; --accent2:#b84dff;
    --glass: rgba(255,255,255,0.03); --text:#e7e7e9;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  button{font-family:inherit;cursor:pointer}

  .wrap{max-width:1100px;margin:20px auto;padding:0 18px}

  /* Popup intro */
  .popup{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,2,2,0.95), rgba(2,2,2,0.6));z-index:9999}
  .popup-card{width:95%;max-width:720px;background:var(--card);padding:22px;border-radius:12px;text-align:center;border:1px solid var(--glass)}
  .logo-svg{width:360px;height:auto;margin:6px auto 12px;display:block}
  .typed{color:var(--muted);min-height:64px;margin-bottom:14px;font-size:16px}
  .popup-actions{display:flex;gap:10px;justify-content:center;margin-top:10px}
  .btn{padding:10px 14px;border-radius:8px;background:#1f1f23;border:1px solid rgba(255,255,255,0.06);color:var(--text)}
  .btn.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#05060a;font-weight:700;border:none}
  .btn.outline{background:transparent;border:1px solid rgba(255,255,255,0.08)}

  header.site-header{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
  .logo-small svg{height:44px}

  .hero{display:flex;gap:20px;align-items:center;margin-top:20px}
  .hero-left{flex:1}
  h1{font-size:28px;font-family:Poppins,Arial;margin-bottom:8px}
  .lead{color:var(--muted);margin-bottom:14px}

  .coming-soon { margin-top:10px; color:#ffd966; font-weight:600; }

  .products{margin-top:28px}
  .cards{display:grid;gap:16px}
  .card{background:linear-gradient(180deg,#0d0d0f,#0b0b0d);padding:14px;border-radius:12px;border:1px solid var(--glass);display:flex;flex-direction:column;gap:8px}
  .muted{color:var(--muted);font-size:14px}
  .old-price{text-decoration:line-through;color:#777;margin-right:8px}
  .new-price{color:var(--accent1);font-weight:700}
  .card-actions{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}

  /* Modal (checkout) */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:90;padding:20px}
  .modal[aria-hidden="false"]{display:flex}
  .modal-content{width:100%;max-width:580px;background:var(--card);border-radius:12px;padding:18px;border:1px solid var(--glass)}
  .modal-close{float:right;border:none;background:transparent;color:#bbb;font-size:22px;cursor:pointer}
  .form-row{margin-bottom:10px;display:flex;flex-direction:column}
  label{font-size:13px;color:var(--muted);margin-bottom:6px}
  input[type="text"],input[type="number"],select{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:#0a0a0c;color:var(--text)}
  input[readonly]{background:#0b0b0d;color:var(--muted)}
  .account-details{margin-top:8px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);display:none}
  .account-details.visible{display:block}
  .note{font-size:13px;color:var(--muted);margin-top:8px}

  /* Countdown */
  .countdown-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.7);z-index:100}
  .countdown-overlay.active{display:flex}
  .countdown-card{background:var(--card);padding:18px;border-radius:12px;text-align:center;border:1px solid var(--glass)}
  .count-num{font-size:46px;color:var(--accent1);font-weight:700;margin-top:6px}

  footer.footer{text-align:center;padding:18px;color:var(--muted);font-size:14px;margin-top:30px;border-top:1px solid rgba(255,255,255,0.02)}

  @media(min-width:720px){ .cards{grid-template-columns:1fr 1fr} }
  :focus{outline:3px solid rgba(0,229,255,0.12)}
  @media (prefers-reduced-motion: reduce) { .typed { transition:none !important; } }
</style>
</head>
<body>
  <!-- Intro popup -->
  <div id="introPopup" class="popup" role="dialog" aria-modal="true" aria-labelledby="introTitle">
    <div class="popup-card" role="document">
      <svg class="logo-svg" viewBox="0 0 600 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="false">
        <defs>
          <linearGradient id="lg" x1="0" x2="1"><stop offset="0" stop-color="#00e5ff"/><stop offset="1" stop-color="#b84dff"/></linearGradient>
          <filter id="glo"><feGaussianBlur stdDeviation="3" result="g1"/><feMerge><feMergeNode in="g1"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        </defs>
        <rect width="100%" height="100%" rx="12" fill="#0b0b0d"/>
        <text x="28" y="70" font-family="Poppins, Arial" font-size="48" font-weight="700" fill="url(#lg)" filter="url(#glo)">KG<tspan font-size="36">^</tspan>DIMSY<tspan font-size="36">¥</tspan></text>
      </svg>

      <div id="typedArea" class="typed" aria-live="polite"></div>

      <div class="popup-actions">
        <button id="continueBtn" class="btn primary" aria-label="Continue to site">Continue to Site</button>
        <button id="contactBtn" class="btn outline" aria-label="Contact Admin via WhatsApp">Contact Admin (WhatsApp)</button>
      </div>
    </div>
  </div>

  <!-- Main site -->
  <div class="wrap" id="siteWrap" aria-hidden="true">
    <header class="site-header" role="banner">
      <div class="logo-small" aria-hidden="false">
        <svg viewBox="0 0 360 72" width="220" height="44" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs><linearGradient id="lg2" x1="0" x2="1"><stop offset="0" stop-color="#00e5ff"/><stop offset="1" stop-color="#b84dff"/></linearGradient></defs>
          <rect width="100%" height="100%" rx="8" fill="#0b0b0d"/>
          <text x="12" y="44" font-family="Poppins, Arial" font-weight="700" font-size="34" fill="url(#lg2)">KG^DIMSY</text>
        </svg>
      </div>

      <nav class="nav" role="navigation" aria-label="Main navigation">
        <button id="buyCallBtn" class="btn small" aria-label="Open buy modal">Buy</button>
        <button id="dmBtn" class="btn small outline" aria-label="DM admin">DM Admin</button>
      </nav>
    </header>

    <main role="main">
      <section class="hero" aria-labelledby="heroTitle">
        <div class="hero-left">
          <h1 id="heroTitle">KG^DIMSY — Premium Gaming Services</h1>
          <p class="lead">We provide showcase accounts and premium digital service packages. Choose a product, select Palmpay, then confirm your payment on WhatsApp for verification and delivery.</p>
          <div class="cta-row">
            <button id="shopNowBtn" class="btn primary">Shop Now</button>
            <button id="contactNowBtn" class="btn outline">Contact Admin</button>
          </div>

          <div class="coming-soon">More games coming soon — Hack mode</div>
        </div>
      </section>

      <section class="products" id="products" aria-label="Products">
        <h2 style="margin:18px 0 12px">Available Services</h2>
        <div class="cards" id="cardsContainer">
          <!-- Proxy Unlimited -->
          <article class="card" aria-labelledby="proxyTitle">
            <h3 id="proxyTitle">Proxy — Unlimited Edition</h3>
            <p class="muted">Old price: <span class="old-price">₦8,000</span> <span class="new-price">₦7,000</span></p>
            <p class="desc">Showcase account: Unlimited Diamonds, Level 100, Unlimited Skins, Unlimited Emotes. <strong>Not for live gameplay.</strong></p>
            <div class="card-actions">
              <button class="btn" data-action="buy" data-product="Proxy (Unlimited Edition)" data-price="7000">Buy Now</button>
              <button class="btn outline dm" data-product="Proxy (Unlimited Edition)">DM Admin for Better Price</button>
            </div>
          </article>

          <!-- Headshot-only -->
          <article class="card" aria-labelledby="headshotTitle">
            <h3 id="headshotTitle">Headshot-Only Account</h3>
            <p class="muted">Old price: <span class="old-price">₦7,000</span> <span class="new-price">₦6,000</span></p>
            <p class="desc">Guest-login account tuned for headshot precision and smooth shooting. Delivered after manual verification.</p>
            <div class="card-actions">
              <button class="btn" data-action="buy" data-product="Headshot-Only Account" data-price="6000">Buy Now</button>
              <button class="btn outline dm" data-product="Headshot-Only Account">DM Admin for Better Price</button>
            </div>
          </article>
        </div>
      </section>
    </main>

    <footer class="footer" role="contentinfo">
      <p>Business: KG^DIMSY • Email: <a href="mailto:kgdims0001@gmail.com">kgdims0001@gmail.com</a></p>
      <p>Contact (WhatsApp / Verification): Palmpay → +234 915 952 9768</p>
      <p>DM / Calls (US admin): +1 (737) 615-1139</p>
      <p style="margin-top:8px;color:#777;font-size:12px">© 2025 KG^DIMSY — Official</p>
    </footer>
  </div>

  <!-- Checkout Modal -->
  <div id="checkoutModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="document">
      <button id="closeModal" class="modal-close" aria-label="Close checkout">×</button>
      <h3 id="checkoutTitle">Checkout</h3>

      <form id="checkoutForm" onsubmit="return false;">
        <div class="form-row">
          <label>Product</label>
          <input id="productName" type="text" readonly />
        </div>

        <div class="form-row">
          <label>Amount (₦) — (locked & cannot be changed)</label>
          <input id="amountInput" type="number" min="1" readonly />
        </div>

        <div class="form-row">
          <label>Payer Name (as used in transfer)</label>
          <input id="payerName" type="text" placeholder="Your bank name or payer name" />
        </div>

        <div class="form-row">
          <label>Payment Method</label>
          <select id="paymentMethod" aria-label="Choose payment method">
            <option value="palmpay">Palmpay (Miracle Chika) — 9030516292</option>
          </select>
        </div>

        <div id="accountDetails" class="account-details" aria-hidden="true"></div>

        <p class="note"><strong>Important:</strong> After selecting Palmpay, this site will open WhatsApp for manual verification after you press "I've Made My Transfer". The verification number is +234 915 952 9768.</p>

        <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
          <button id="transferBtn" class="btn primary" type="button">I’ve Made My Transfer</button>
          <button id="dmModalBtn" class="btn outline" type="button">DM Admin for Better Price</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Countdown overlay -->
  <div id="countdownOverlay" class="countdown-overlay" aria-hidden="true">
    <div class="countdown-card" role="status" aria-live="polite">
      <div id="countdownMessage" style="color:var(--muted)">Preparing WhatsApp confirmation…</div>
      <div class="count-num" id="countNum">10</div>
      <p style="color:var(--muted);margin-top:8px">Keep your payment screenshot ready. WhatsApp will open when the countdown finishes.</p>
    </div>
  </div>

<script>
/* ========== Configuration ========== */
// Admin (DM / negotiation) — US number (wa.me/17376151139)
const ADMIN_US_WA = "17376151139";
// Palmpay verification number (no +)
const VERIFY_PALMPAY = "2349159529768";

/* Palmpay account details */
const ACCOUNTS = {
  palmpay: {
    label: "Palmpay (primary)",
    accountName: "Miracle Chika",
    accountNumber: "9030516292",
    verifyWA: VERIFY_PALMPAY
  }
};

/* Fixed product prices (locked) */
const PRODUCTS = {
  proxy: { name: "Proxy (Unlimited Edition)", price: 7000 },
  headshot: { name: "Headshot-Only Account", price: 6000 }
};

/* Elements */
const introPopup = document.getElementById("introPopup");
const typedArea = document.getElementById("typedArea");
const continueBtn = document.getElementById("continueBtn");
const contactBtn = document.getElementById("contactBtn");
const siteWrap = document.getElementById("siteWrap");

const buyCallBtn = document.getElementById("buyCallBtn");
const dmBtn = document.getElementById("dmBtn");
const shopNowBtn = document.getElementById("shopNowBtn");
const contactNowBtn = document.getElementById("contactNowBtn");

const checkoutModal = document.getElementById("checkoutModal");
const closeModal = document.getElementById("closeModal");
const productNameInput = document.getElementById("productName");
const amountInput = document.getElementById("amountInput");
const payerNameInput = document.getElementById("payerName");
const paymentMethodSelect = document.getElementById("paymentMethod");
const accountDetails = document.getElementById("accountDetails");
const transferBtn = document.getElementById("transferBtn");
const dmModalBtn = document.getElementById("dmModalBtn");

const countdownOverlay = document.getElementById("countdownOverlay");
const countNum = document.getElementById("countNum");
const countdownMessage = document.getElementById("countdownMessage");

/* ---------- Typed intro ---------- */
const introLines = [
  "Welcome to KG^DIMSY — your trusted game marketplace.",
  "Premium showcase accounts and digital packages for serious players.",
  "Choose a product, pick Palmpay, then confirm on WhatsApp for verification."
];

function runTyped(lines, el, charDelay = 22) {
  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    el.textContent = lines.join(" ");
    return;
  }
  let i = 0, p = 0;
  function step() {
    if (i >= lines.length) return;
    const line = lines[i];
    if (p <= line.length) {
      el.textContent = line.slice(0, p);
      p++;
      setTimeout(step, charDelay);
    } else {
      // move to next line after short pause
      setTimeout(() => { i++; p = 0; step(); }, 700);
    }
  }
  step();
}

document.addEventListener("DOMContentLoaded", () => {
  runTyped(introLines, typedArea);
  siteWrap.setAttribute("aria-hidden", "true");
});

/* ---------- Popup actions ---------- */
continueBtn.addEventListener("click", () => {
  introPopup.style.display = "none";
  siteWrap.setAttribute("aria-hidden", "false");
  setTimeout(()=>{ document.getElementById("proxyTitle").scrollIntoView({behavior:"smooth"}); }, 120);
});
contactBtn.addEventListener("click", () => {
  // DM US admin for general contact
  window.open(`https://wa.me/${ADMIN_US_WA}`, "_blank");
});

/* ---------- Header actions ---------- */
buyCallBtn?.addEventListener("click", () => openCheckout(PRODUCTS.proxy.name, PRODUCTS.proxy.price));
dmBtn?.addEventListener("click", () => window.open(`https://wa.me/${ADMIN_US_WA}?text=${encodeURIComponent("Hello Admin, I want the best price.")}`, "_blank"));
shopNowBtn?.addEventListener("click", () => document.getElementById("products").scrollIntoView({behavior:"smooth"}));
contactNowBtn?.addEventListener("click", () => window.open(`https://wa.me/${ADMIN_US_WA}`, "_blank"));

/* ---------- Product buttons ---------- */
document.querySelectorAll('button[data-action="buy"]').forEach(btn => {
  btn.addEventListener("click", () => {
    const prodKey = btn.getAttribute("data-product").toLowerCase().includes("proxy") ? "proxy" : "headshot";
    openCheckout(PRODUCTS[prodKey].name, PRODUCTS[prodKey].price);
  });
});
document.querySelectorAll('.dm').forEach(btn => {
  btn.addEventListener("click", () => {
    const prod = btn.getAttribute("data-product") || "product";
    window.open(`https://wa.me/${ADMIN_US_WA}?text=${encodeURIComponent(`Hello Admin, I am interested in ${prod}. Please give me the best price and payment details.`)}`, "_blank");
  });
});

/* ---------- Checkout modal logic ---------- */
function openCheckout(productName, price) {
  productNameInput.value = productName;
  amountInput.value = price;          // locked read-only
  payerNameInput.value = "";
  paymentMethodSelect.value = "palmpay"; // preselect Palmpay
  accountDetails.innerHTML = "";
  accountDetails.classList.remove("visible");
  // show Palmpay details immediately
  showSelectedPaymentDetails("palmpay");
  checkoutModal.setAttribute("aria-hidden", "false");
  checkoutModal.style.display = "flex";
  document.body.style.overflow = "hidden";
}
closeModal.addEventListener("click", closeCheckout);
document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeCheckout(); });
function closeCheckout() {
  checkoutModal.setAttribute("aria-hidden", "true");
  checkoutModal.style.display = "none";
  document.body.style.overflow = "";
}

/* Show selected payment method details (Palmpay only) */
function showSelectedPaymentDetails(key) {
  const acc = ACCOUNTS[key];
  if (!acc) return;
  accountDetails.classList.add("visible");
  accountDetails.innerHTML = `
    <strong>${acc.label}</strong>
    <p style="margin-top:6px">Account name: <strong>${acc.accountName}</strong></p>
    <p>Account number: <strong>${acc.accountNumber}</strong></p>
    <p style="margin-top:6px;color:${getComputedStyle(document.documentElement).getPropertyValue('--muted')}">Verification WhatsApp: <strong>${formatPhone(acc.verifyWA)}</strong></p>
  `;
}

/* Payment method change (only Palmpay available) */
paymentMethodSelect.addEventListener("change", () => {
  const v = paymentMethodSelect.value;
  if (!v) {
    accountDetails.classList.remove("visible");
    accountDetails.innerHTML = "";
    return;
  }
  showSelectedPaymentDetails(v);
});

/* ---------- Transfer button: countdown then open WhatsApp to Palmpay verification number ---------- */
transferBtn.addEventListener("click", () => {
  const method = paymentMethodSelect.value || "palmpay";
  const acc = ACCOUNTS[method];
  if (!acc) { alert("Payment method not available."); return; }
  const payer = payerNameInput.value.trim();
  if (!payer) { alert("Please enter your payer name used in transfer."); return; }

  const prod = productNameInput.value || "Product";
  const amount = amountInput.value || "";

  // build message (plain text)
  const msg = `Hello Admin, I have made a transfer.\nProduct: ${prod}\nAmount: ₦${amount}\nPayment Method: ${acc.label}\nAccount Name: ${acc.accountName}\nAccount Number: ${acc.accountNumber}\nPayer Name: ${payer}\nTransaction ID: [optional]\nI will send my screenshot now.`;

  // 10-second countdown
  showCountdown(10, `Preparing WhatsApp message for ${formatPhone(acc.verifyWA)}...`, () => {
    window.open(`https://wa.me/${acc.verifyWA}?text=${encodeURIComponent(msg)}`, "_blank");
    closeCheckout();
  });
});

/* DM from modal */
dmModalBtn.addEventListener("click", () => {
  const prod = productNameInput.value || "Product";
  window.open(`https://wa.me/${ADMIN_US_WA}?text=${encodeURIComponent(`Hello Admin, I am interested in ${prod}. Please give me the best price and payment details.`)}`, "_blank");
  closeCheckout();
});

/* Countdown UI */
function showCountdown(seconds, message, onComplete) {
  countdownMessage.textContent = message || "Preparing WhatsApp confirmation...";
  let s = seconds;
  countNum.textContent = s;
  countdownOverlay.classList.add("active");
  countdownOverlay.setAttribute("aria-hidden", "false");
  document.body.style.overflow = "hidden";
  const t = setInterval(() => {
    s--;
    countNum.textContent = s;
    if (s <= 0) {
      clearInterval(t);
      countdownOverlay.classList.remove("active");
      countdownOverlay.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
      onComplete && onComplete();
    }
  }, 1000);
}

/* Phone formatting helper */
